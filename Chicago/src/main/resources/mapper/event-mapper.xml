<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sist.dao.mapper.EventMapper">
	<select id="schedule" resultType="event" parameterType="hashmap">
		<!-- SELECT EVENT_NAME,STORE_NAME,START_DAY,END_DAY,DESCRIPTION FROM EVENT WHERE START_DAY IS NOT NULL -->
		SELECT EVENT_NO,EVENT_NAME,STORE_NAME,START_DAY,END_DAY,DESCRIPTION,num 
 		FROM (SELECT EVENT_NO,EVENT_NAME,STORE_NAME,START_DAY,END_DAY,DESCRIPTION,ROWNUM as num 
 		FROM (SELECT EVENT_NO,EVENT_NAME,STORE_NAME,START_DAY,END_DAY,DESCRIPTION FROM EVENT ORDER BY START_DAY)) 
 		WHERE num BETWEEN #{start} AND #{end}
 		<!-- <![CDATA[    
 		SELECT EVENT_NO,EVENT_NAME,STORE_NAME,START_DAY,END_DAY,DESCRIPTION,num
 		FROM (SELECT EVENT_NO,EVENT_NAME,STORE_NAME,START_DAY,END_DAY,DESCRIPTION,ROWNUM as num
 		FROM (SELECT EVENT_NO,EVENT_NAME,STORE_NAME,START_DAY,END_DAY,DESCRIPTION FROM EVENT WHERE START_DAY >= TO_DATE('#{today }','YYYY') AND START_DAY < TO_DATE('#{today }'+1||'01' ,'YYYY-MM') ORDER BY START_DAY ))
 		WHERE num BETWEEN #{start} AND #{end};
 		 ]]>  -->
	</select>
	<select id="scheduleTotalPage" resultType="int" parameterType="int">
		SELECT CEIL(COUNT(*)/10) FROM EVENT
	</select>
	<select id="">
	</select>
</mapper>